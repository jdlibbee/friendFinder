<!DOCTYPE html>
<html>

<head>

    <title>Survey</title>
    <meta name="viewport" content="width = device-width, initial-scale = 1">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/css/bootstrap.min.css" integrity="sha384-Smlep5jCw/wG7hdkwQ/Z5nLIefveQRIY9nfy6xoR1uRYBtpZgI6339F5dgvm/e9B"
        crossorigin="anonymous"> -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.css">
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.js"></script>

    <script>
        $(document).ready(function () {
            $('select').material_select();
        });
    </script>

</head>

<body>
    <nav>
        <div class="nav-wrapper indigo lighten-2">
            <a class="brand-logo center">Survey Questions</a>
        </div>
    </nav>
    <div class="container">
        <div class="row">
            <form class="col s12">
                <div class="row">
                    <div class="input-field col s6">
                        <i class="material-icons prefix">account_circle</i>
                        <input id="icon_prefix" type="text" class="validate name">
                        <label for="icon_prefix">Name (Required)</label>
                    </div>
                </div>

            </form>
        </div>
        <div class="row">
            <form class="col s12">
                <div class="row">
                    <div class="input-field col s6">
                        <i class="material-icons prefix">camera_roll</i>
                        <input id="icon_prefix" type="text" class="validate image">
                        <label for="icon_prefix">Image Link (Required)</label>
                    </div>
                </div>
            </form>
        </div>
        <div class="row">
            <form class="col s6" id="questions">
                <div class="row">
                    <label>
                        <h5 class="black-text">Game of Thrones is overrated.</h5>
                    </label>
                    <select id="q1">
                        <option value="" disabled selected>Thoughts</option>
                        <option value="1">Strongly Disagree</option>
                        <option value="2">Disagree</option>
                        <option value="3">Neutral</option>
                        <option value="4">Agree</option>
                        <option value="5">Strongly Agree</option>
                    </select>
                </div>
                <div class="row">
                    <label>
                        <h5 class="black-text">Love at first sight exists.</h5>
                    </label>
                    <select id="q2">
                        <option value="" disabled selected>Thoughts</option>
                        <option value="1">Strongly Disagree</option>
                        <option value="2">Disagree</option>
                        <option value="3">Neutral</option>
                        <option value="4">Agree</option>
                        <option value="5">Strongly Agree</option>
                    </select>
                </div>
                <div class="row">
                    <label>
                        <h5 class="black-text">Stranger Things is overrated.</h5>
                    </label>
                    <select id="q3">
                        <option value="" disabled selected>Thoughts</option>
                        <option value="1">Strongly Disagree</option>
                        <option value="2">Disagree</option>
                        <option value="3">Neutral</option>
                        <option value="4">Agree</option>
                        <option value="5">Strongly Agree</option>
                    </select>
                </div>
                <div class="row">
                    <label>
                        <h5 class="black-text">Snow is better than sand.</h5>
                    </label>
                    <select id="q4">
                        <option value="" disabled selected>Thoughts</option>
                        <option value="1">Strongly Disagree</option>
                        <option value="2">Disagree</option>
                        <option value="3">Neutral</option>
                        <option value="4">Agree</option>
                        <option value="5">Strongly Agree</option>
                    </select>
                </div>
                <div class="row">
                    <label>
                        <h5 class="black-text">Letters are better than e-mail.</h5>
                    </label>
                    <select id="q5">
                        <option value="" disabled selected>Thoughts</option>
                        <option value="1">Strongly Disagree</option>
                        <option value="2">Disagree</option>
                        <option value="3">Neutral</option>
                        <option value="4">Agree</option>
                        <option value="5">Strongly Agree</option>
                    </select>
                </div>
                <div class="row">
                    <label>
                        <h5 class="black-text">Cinnamon smells good.</h5>
                    </label>
                    <select id="q6">
                        <option value="" disabled selected>Thoughts</option>
                        <option value="1">Strongly Disagree</option>
                        <option value="2">Disagree</option>
                        <option value="3">Neutral</option>
                        <option value="4">Agree</option>
                        <option value="5">Strongly Agree</option>
                    </select>
                </div>
                <div class="row">
                    <label>
                        <h5 class="black-text">I would be the villain over the hero.</h5>
                    </label>
                    <select id="q7">
                        <option value="" disabled selected>Thoughts</option>
                        <option value="1">Strongly Disagree</option>
                        <option value="2">Disagree</option>
                        <option value="3">Neutral</option>
                        <option value="4">Agree</option>
                        <option value="5">Strongly Agree</option>
                    </select>
                </div>
                <div class="row">
                    <label>
                        <h5 class="black-text">Old people are funny.</h5>
                    </label>
                    <select id="q8">
                        <option value="" disabled selected>Thoughts</option>
                        <option value="1">Strongly Disagree</option>
                        <option value="2">Disagree</option>
                        <option value="3">Neutral</option>
                        <option value="4">Agree</option>
                        <option value="5">Strongly Agree</option>
                    </select>
                </div>
                <div class="row">
                    <label>
                        <h5 class="black-text">The night is better than the day.</h5>
                    </label>
                    <select id="q9">
                        <option value="" disabled selected>Thoughts</option>
                        <option value="1">Strongly Disagree</option>
                        <option value="2">Disagree</option>
                        <option value="3">Neutral</option>
                        <option value="4">Agree</option>
                        <option value="5">Strongly Agree</option>
                    </select>
                </div>
                <div class="row">
                    <label>
                        <h5 class="black-text">Pineaple belongs on pizza.</h5>
                    </label>
                    <select id="q10">
                        <option value="" disabled selected>Thoughts</option>
                        <option value="1">Strongly Disagree</option>
                        <option value="2">Disagree</option>
                        <option value="3">Neutral</option>
                        <option value="4">Agree</option>
                        <option value="5">Strongly Agree</option>
                    </select>
                </div>
                <button class="btn waves-effect waves-light" type="submit" id="submit" name="action" data-target="modal1">Submit
                    <i class="material-icons right">send</i>
                </button>

            </form>
        </div>
        <a href="/api/friends">API Friends List</a>
        <a>|</a>
        <a href="https://github.com/jdlibbee/friendFinder">GitHub Repo</a>
    </div>


    <div id="modal1" class="modal">
        <div class="modal-content">
            <h2>You Matched With:</h2>
            <h5 id="match"></h5>
            <img src="https://placeimg.com/640/480/tech" id="matchImg">
        </div>
        <div class="modal-footer">
            <a href="#!" id="closeModal" class="modal-close waves-effect waves-green btn-flat">Agree</a>
        </div>
    </div>
</body>

</html>

<script type="text/javascript">
    $("#submit").on("click", function (event) {
        event.preventDefault();

        var newFriend = {
            name: $(".name").val(),
            image: $(".image").val(),
            scores: [$("#q1").val(), $("#q2").val(), $("#q3").val(), $("#q4").val(), $("#q5").val(), $("#q6").val(), $("#q7").val(), $("#q8").val(), $("#q9").val(), $("#q10").val()]
        };
        console.log(newFriend);

        $.post("/api/friends", newFriend, function (data) {
            $("#match").text(data.name);
            $("#matchImg").attr("src", data.photo);

            // $(".modal").modal("toggle");
            $("#modal1").css("display", "block");
            $("#modal1").css("top", "0");
            $("#modal1").css("bottom", "0");
            $("#modal1").css("z-index", "20");
            $("body").css("background", "grey");

            // alert("Wait while we get your best friend!")


            $(".name").val("Name (Required)");
            $(".image").val("Image Link (Required)");
            $("#q1").val("");
            $("#q2").val("");
            $("#q3").val("");
            $("#q4").val("");
            $("#q5").val("");
            $("#q6").val("");
            $("#q7").val("");
            $("#q8").val("");
            $("#q9").val("");
            $("#q10").val("");
        })
    })
    $("#closeModal").on('click', function (event) {
        event.preventDefault();
        $("#modal1").css("display", "none");
        $("body").css("background", "");
    })

</script>